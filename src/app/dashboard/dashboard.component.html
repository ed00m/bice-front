<div class="loading" *ngIf="firstTime">
  <app-loading></app-loading>
</div>
<section class="dashboard" *ngIf="!firstTime">
  <h1 class="dashboard-title">Indicadores financieros</h1>
  <!-- Indicators -->
  <div class="dashboard-indicators" *ngIf="indicators">
    <app-card *ngFor="let item of indicators.data | keyvalue" [indicator]="item.value"></app-card>
  </div>
  <!-- End Indicators -->

  <!-- Indicators view responsive -->
  <div *ngIf="indicators" class="dashboard-indicators-mob">
    <carousel
      [transitionDuration]="600"
      [height]="140"
      [cellsToShow]="1"
      [arrows]="false"
      [autoplay]="true"
    >
      <div class="carousel-cell" *ngFor="let item of indicators.data | keyvalue">
        <app-card [indicator]="item.value"></app-card>
      </div>
    </carousel>
  </div>
  <!-- End Indicators view responsive -->

  <!-- Chart -->
  <div class="dashboard-chart">
    <div class="fields">
      <div class="field">
        <label class="field-label">Indicador</label>
        <select [(ngModel)]="indicatorInput" (change)="changeIndicator()" class="field-select">
          <option [value]="null" hidden>Seleccionar...</option>
          <option value="dolar">Dolar</option>
          <option value="cobre">Cobre</option>
          <option value="euro">Euro</option>
          <option value="ipc">Ipc</option>
          <option value="ivp">Ivp</option>
          <option value="oro">Oro</option>
          <option value="plata">Plata</option>
          <option value="uf">UF</option>
          <option value="utm">UTM</option>
          <option value="yen">Yen</option>
        </select>
      </div>
      <div class="field">
        <label class="field-label">AÃ±o</label>
        <select [(ngModel)]="year" (change)="changeIndicator()" class="field-select">
          <option [value]="null" hidden>Seleccionar...</option>
          <option value="2020">2020</option>
          <option value="2019">2019</option>
        </select>
      </div>
    </div>
    <app-chart [lineChartData]="chartData" [lineChartLabels]="chartLabel"></app-chart>
  </div>
  <!-- End Chart -->
</section>
